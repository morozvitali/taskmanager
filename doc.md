‚úÖ –¢–µ—Å—Ç—É–≤–∞–Ω–Ω—è TaskService —É Spring Boot
1Ô∏è‚É£ –ú–∏ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î–º–æ Mockito, —â–æ–± —Å—Ç–≤–æ—Ä–∏—Ç–∏ –º–æ–∫-–æ–±'—î–∫—Ç —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä—ñ—é (TaskRepository).
2Ô∏è‚É£ –ü–µ—Ä–µ–¥ –∫–æ–∂–Ω–∏–º —Ç–µ—Å—Ç–æ–º (@BeforeEach) –º–∏ —ñ–Ω—ñ—Ü—ñ–∞–ª—ñ–∑—É—î–º–æ taskService –∑ –º–æ–∫-—Ä–µ–ø–æ–∑–∏—Ç–æ—Ä—ñ—î–º.
3Ô∏è‚É£ –ú–∏ —Ç–µ—Å—Ç—É—î–º–æ —Ç—Ä–∏ –º–µ—Ç–æ–¥–∏:

getTasks() ‚Äì –ø–µ—Ä–µ–≤—ñ—Ä—è—î–º–æ, —á–∏ –ø–æ–≤–µ—Ä—Ç–∞—î—Ç—å—Å—è —Å–ø–∏—Å–æ–∫ –∑–∞–≤–¥–∞–Ω—å.
addTask() ‚Äì –ø–µ—Ä–µ–≤—ñ—Ä—è—î–º–æ, —á–∏ save() –≤–∏–∫–ª–∏–∫–∞—î—Ç—å—Å—è —Ä—ñ–≤–Ω–æ 1 —Ä–∞–∑.
deleteTask() ‚Äì –ø–µ—Ä–µ–≤—ñ—Ä—è—î–º–æ, —á–∏ deleteById() –≤–∏–∫–ª–∏–∫–∞—î—Ç—å—Å—è –ø—Ä–∏ –ø—Ä–∞–≤–∏–ª—å–Ω–æ–º—É ID.


‚úÖ –¢–µ—Å—Ç—É–≤–∞–Ω–Ω—è TaskController —É Spring Boot
–û—Å–∫—ñ–ª—å–∫–∏ TaskController –≤—ñ–¥–ø–æ–≤—ñ–¥–∞—î –∑–∞ –æ–±—Ä–æ–±–∫—É HTTP-–∑–∞–ø–∏—Ç—ñ–≤, –¥–ª—è –π–æ–≥–æ —Ç–µ—Å—Ç—É–≤–∞–Ω–Ω—è –º–∏ –≤–∏–∫–æ—Ä–∏—Å—Ç–∞—î–º–æ MockMvc ‚Äì —Å–ø–µ—Ü—ñ–∞–ª—å–Ω–∏–π —ñ–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç –¥–ª—è –ø–µ—Ä–µ–≤—ñ—Ä–∫–∏ –≤–µ–±-–∑–∞–ø–∏—Ç—ñ–≤ –±–µ–∑ –∑–∞–ø—É—Å–∫—É —Ä–µ–∞–ª—å–Ω–æ–≥–æ —Å–µ—Ä–≤–µ—Ä–∞.
1Ô∏è‚É£ @WebMvcTest(TaskController.class) ‚Äì –∑–∞–ø—É—Å–∫–∞—î —Ç–µ—Å—Ç –ª–∏—à–µ –¥–ª—è –∫–æ–Ω—Ç—Ä–æ–ª–µ—Ä–∞ (–±–µ–∑ –±–∞–∑–∏ –¥–∞–Ω–∏—Ö).
2Ô∏è‚É£ @MockBean private TaskService taskService; ‚Äì —Å—Ç–≤–æ—Ä—é—î –º–æ–∫-–æ–±'—î–∫—Ç TaskService, —â–æ–± –∫–æ–Ω—Ç—Ä–æ–ª–µ—Ä –Ω–µ –∑–≤–µ—Ä—Ç–∞–≤—Å—è –¥–æ —Ä–µ–∞–ª—å–Ω–æ—ó –±–∞–∑–∏.
3Ô∏è‚É£ –¢–µ—Å—Ç testGetTasks():

–°–∏–º—É–ª—é—î –≤–∏–∫–ª–∏–∫ taskService.getTasks().
–í–∏–∫–æ–Ω—É—î GET /tasks.
–ü–µ—Ä–µ–≤—ñ—Ä—è—î, —á–∏ –ø–æ–≤–µ—Ä—Ç–∞—î—Ç—å—Å—è –ø—Ä–∞–≤–∏–ª—å–Ω–∞ HTML-—Å—Ç–æ—Ä—ñ–Ω–∫–∞ –∑ –ø—Ä–∞–≤–∏–ª—å–Ω–∏–º–∏ –¥–∞–Ω–∏–º–∏.
4Ô∏è‚É£ –¢–µ—Å—Ç testAddTask():
–í–∏–∫–æ–Ω—É—î POST /tasks.
–ü–µ—Ä–µ–≤—ñ—Ä—è—î, —á–∏ –≤–∏–∫–ª–∏–∫–∞–≤—Å—è taskService.addTask().
–ü–µ—Ä–µ–∫–æ–Ω—É—î—Ç—å—Å—è, —â–æ –ø—ñ—Å–ª—è –¥–æ–¥–∞–≤–∞–Ω–Ω—è –≤—ñ–¥–±—É–≤–∞—î—Ç—å—Å—è —Ä–µ–¥—ñ—Ä–µ–∫—Ç.
5Ô∏è‚É£ –¢–µ—Å—Ç testDeleteTask():
–í–∏–∫–æ–Ω—É—î POST /delete-task.
–ü–µ—Ä–µ–≤—ñ—Ä—è—î, —á–∏ –≤–∏–∫–ª–∏–∫–∞–≤—Å—è taskService.deleteTask().
–û—á—ñ–∫—É—î —Ä–µ–¥—ñ—Ä–µ–∫—Ç –ø—ñ—Å–ª—è –≤–∏–¥–∞–ª–µ–Ω–Ω—è.

‚úÖ –¢–µ—Å—Ç—É–≤–∞–Ω–Ω—è TaskRepository –∑ H2
–°—Ç–≤–æ—Ä–∏–º–æ TaskTest.java

‚úÖ –î–æ–¥–∞–º–æ –Ω–µ–≥–∞—Ç–∏–≤–Ω—ñ —Ç–µ—Å—Ç–∏
üìå –û–Ω–æ–≤–∏–º–æ TaskServiceTest.java
üîπ –¶–µ–π —Ç–µ—Å—Ç –ø–µ—Ä–µ–≤—ñ—Ä—è—î, —â–æ –º–µ—Ç–æ–¥ deleteTask(99L) –Ω–µ –∑–ª–∞–º–∞—î –ø—Ä–æ–≥—Ä–∞–º—É, —è–∫—â–æ ID –Ω–µ —ñ—Å–Ω—É—î

‚úÖ –ó–∞–ø—É—Å—Ç–∏—Ç–∏ –≤—Å—ñ —Ç–µ—Å—Ç–∏: mvn test